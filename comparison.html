<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>Cipher Recon | Tactical Comparison</title>

<script src="https://cdn.tailwindcss.com"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=JetBrains+Mono:wght@300;500;700&display=swap" rel="stylesheet">

<style>
:root {
    --neon-blue: #00d2ff;
    --neon-purple: #9d50bb;
    --neon-red: #ff3e3e;
    --glass: rgba(6, 11, 25, 0.95);
    --glass-border: rgba(0, 210, 255, 0.3);
    --bg: #010206;
}

* { box-sizing: border-box; cursor: default; }

body {
    background: var(--bg);
    color: #e5e7eb;
    font-family: 'JetBrains Mono', monospace;
    overflow-x: hidden;
    margin: 0;
}

#three-canvas {
    position: fixed;
    top: 0; left: 0;
    z-index: -1;
    pointer-events: none;
}

/* --- Vigenere Sidebar & Nav HUD --- */
.glass-hud {
    background: rgba(255, 255, 255, 0.03);
    backdrop-filter: blur(25px);
    border: 1px solid rgba(0, 210, 255, 0.2);
}

#sidebar {
    transition: transform 0.6s cubic-bezier(0.16, 1, 0.3, 1);
    z-index: 150;
}
.sidebar-closed { transform: translateX(-100%); }
.sidebar-open { transform: translateX(0); }

.font-header {
    font-family: 'Orbitron', sans-serif;
    font-weight: 900;
    text-transform: uppercase;
    letter-spacing: 5px;
    color: #fff;
}

/* --- VIEWPORT & CONTROLS --- */
.viewport {
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    padding: 2rem;
    padding-top: 120px; /* Space for fixed nav */
}

h1.scramble-main {
    font-family: 'Orbitron', sans-serif;
    letter-spacing: 12px;
    font-size: 2.2rem;
    font-weight: 900;
    text-transform: uppercase;
    text-align: center;
    margin-bottom: 2rem;
    text-shadow: 0 0 25px var(--neon-blue);
}

.controls {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 2rem;
    max-width: 1000px;
    margin: 0 auto 2rem;
    width: 100%;
    z-index: 10;
}

.select-wrapper {
    position: relative;
    background: rgba(0, 210, 255, 0.05);
    border: 2px solid var(--neon-blue);
    border-radius: 8px;
    padding: 0.8rem 1.2rem;
    backdrop-filter: blur(10px);
}

.select-wrapper::before {
    content: "SELECT CIPHER";
    position: absolute;
    top: -10px; left: 10px;
    background: var(--bg);
    padding: 0 5px;
    font-size: 9px;
    color: var(--neon-blue);
    font-weight: 900;
}

select {
    width: 100%;
    background: var(--bg);
    border: none;
    color: white;
    font-family: 'Orbitron';
    outline: none;
    cursor: pointer;
}

/* --- COMPARISON AREA --- */
#compareArea {
    flex-grow: 1;
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
    gap: 2rem;
    max-width: 1400px;
    margin: 0 auto;
    width: 100%;
    perspective: 1200px;
}

.card {
    background: var(--glass);
    border: 1px solid var(--glass-border);
    border-radius: 20px;
    padding: 30px;
    display: flex;
    flex-direction: column;
    box-shadow: 0 20px 50px rgba(0,0,0,0.8);
    position: relative;
    overflow: hidden;
}

.card::after {
    content: "";
    position: absolute;
    top: -100%; left: 0; width: 100%; height: 2px;
    background: var(--neon-blue);
    opacity: 0.2;
    animation: scan 8s linear infinite;
}

@keyframes scan { 0% { top: -10%; } 100% { top: 110%; } }

.row {
    display: flex;
    justify-content: space-between;
    padding: 12px 15px;
    margin-bottom: 8px;
    background: rgba(255, 255, 255, 0.03);
    border-left: 4px solid var(--neon-blue);
    border-radius: 4px;
    transition: all 0.3s;
}

.row:hover {
    background: rgba(0, 210, 255, 0.1);
    transform: translateX(10px);
}

.label { color: var(--neon-blue); font-size: 0.65rem; font-weight: 800; text-transform: uppercase; letter-spacing: 1px; }
.value { color: white; font-size: 0.85rem; }

.note {
    max-width: 1000px;
    margin: 2rem auto;
    padding: 1.5rem;
    border-left: 4px solid var(--neon-blue);
    background: rgba(0, 210, 255, 0.05);
    font-size: 0.75rem;
    backdrop-filter: blur(5px);
}
</style>
</head>

<body>
<canvas id="three-canvas"></canvas>

<nav class="fixed top-0 w-full z-[100] border-b border-cyan-500/10 px-8 py-4 flex justify-between items-center glass-hud">
    <div class="flex items-center space-x-4">
        <button onclick="toggleSidebar()" class="p-2 hover:bg-cyan-500/10 rounded-full transition-colors group">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-cyan-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
            </svg>
        </button>
        <span class="font-header text-xl tracking-tighter font-black uppercase">Crypto<span class="text-cyan-400">Evo</span></span>
    </div>
    <div class="hidden md:flex space-x-8 text-[10px] tracking-widest uppercase font-bold text-gray-400">
        <span class="text-cyan-500 animate-pulse">STATUS: ANALYSIS_MODE_ACTIVE</span>
    </div>
</nav>

<aside id="sidebar" class="fixed top-0 left-0 h-full w-80 glass-hud border-r border-cyan-500/30 sidebar-closed p-0 overflow-y-auto">
    <div class="p-8 flex justify-between items-center border-b border-white/10 bg-black/20 text-left">
        <div>
            <span class="font-header text-xs font-black text-cyan-400 tracking-[0.3em] uppercase block">Navigation</span>
            <span class="text-[9px] text-gray-500 font-mono">ID: RECON_ENGINE_04</span>
        </div>
        <button onclick="toggleSidebar()" class="w-10 h-10 flex items-center justify-center border border-white/10 rounded-full hover:bg-cyan-500 hover:text-black transition-all group">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
            </svg>
        </button>
    </div>
    <div class="p-4 space-y-2 text-left">
        <a href="homepage.html" class="group flex flex-col gap-1 p-3 rounded-md border-l-4 border-transparent hover:border-cyan-400 hover:bg-cyan-400/10 transition-all duration-300">
            <h4 class="font-header text-[11px] font-semibold tracking-widest uppercase text-gray-300 group-hover:text-cyan-400">Return Home</h4>
        </a>
        <a href="caeser.html" class="group flex flex-col gap-1 p-3 rounded-md border-l-4 border-transparent hover:border-cyan-400 hover:bg-cyan-400/10 transition-all duration-300">
            <h4 class="font-header text-[11px] font-semibold tracking-widest uppercase text-gray-300 group-hover:text-cyan-400">Caeser Cipher</h4>
        </a>
        <a href="modified.html" class="group flex flex-col gap-1 p-3 rounded-md border-l-4 border-transparent hover:border-cyan-400 hover:bg-cyan-400/10 transition-all duration-300">
            <h4 class="font-header text-[11px] font-semibold tracking-widest uppercase text-gray-300 group-hover:text-cyan-400">Modified Caeser Cipher</h4>
        </a>
        <a href="Vigenere.html" class="group flex flex-col gap-1 p-3 rounded-md border-l-4 border-transparent hover:border-cyan-400 hover:bg-cyan-400/10 transition-all duration-300">
            <h4 class="font-header text-[11px] font-semibold tracking-widest uppercase text-gray-300 group-hover:text-cyan-400">Vigenere Cipher</h4>
        </a>
        <a href="Playfair2.html" class="group flex flex-col gap-1 p-3 rounded-md border-l-4 border-transparent hover:border-cyan-400 hover:bg-cyan-400/10 transition-all duration-300">
            <h4 class="font-header text-[11px] font-semibold tracking-widest uppercase text-gray-300 group-hover:text-cyan-400">Playfair Cipher</h4>
        </a>
        <a href="vernam.html" class="group flex flex-col gap-1 p-3 rounded-md border-l-4 border-transparent hover:border-cyan-400 hover:bg-cyan-400/10 transition-all duration-300">
            <h4 class="font-header text-[11px] font-semibold tracking-widest uppercase text-gray-300 group-hover:text-cyan-400">Vernam Cipher</h4>
        </a>
        <a href="hill.html" class="group flex flex-col gap-1 p-3 rounded-md border-l-4 border-transparent hover:border-cyan-400 hover:bg-cyan-400/10 transition-all duration-300">
            <h4 class="font-header text-[11px] font-semibold tracking-widest uppercase text-gray-300 group-hover:text-cyan-400">Hill Cipher</h4>
        </a>
        <a href="railfence.html" class="group flex flex-col gap-1 p-3 rounded-md border-l-4 border-transparent hover:border-cyan-400 hover:bg-cyan-400/10 transition-all duration-300">
            <h4 class="font-header text-[11px] font-semibold tracking-widest uppercase text-gray-300 group-hover:text-cyan-400">Railfence Cipher</h4>
        </a>
        <a href="aes.html" class="group flex flex-col gap-1 p-3 rounded-md border-l-4 border-transparent hover:border-cyan-400 hover:bg-cyan-400/10 transition-all duration-300">
            <h4 class="font-header text-[11px] font-semibold tracking-widest uppercase text-gray-300 group-hover:text-cyan-400">AES</h4>
        </a>
        <a href="des.html" class="group flex flex-col gap-1 p-3 rounded-md border-l-4 border-transparent hover:border-cyan-400 hover:bg-cyan-400/10 transition-all duration-300">
            <h4 class="font-header text-[11px] font-semibold tracking-widest uppercase text-gray-300 group-hover:text-cyan-400">DES</h4>
        </a>
    </div>
</aside>

<div class="viewport" id="main-content">
    <header>
        <h1 id="scramble-target" class="scramble-main">CIPHER RECON</h1>
    </header>

    <div class="controls">
        <div class="select-wrapper"><select id="a1"></select></div>
        <div class="select-wrapper"><select id="a2"></select></div>
    </div>

    <div id="compareArea">
        <div class="card" id="card1"></div>
        <div class="card" id="card2"></div>
    </div>

    <div class="note">
        <b>TACTICAL_ADVICE:</b> While classical ciphers provide the logic for data transformation, <b>AES (Advanced Encryption Standard)</b> is the current global standard for securing sensitive government and military data.
    </div>
</div>

<script>
/* TEXT SCRAMBLE CLASS */
class TextScramble {
    constructor(el) { this.el = el; this.chars = '!<>-_\\/[]{}—=+*^?#________'; }
    setText(newText) {
        const oldText = this.el.innerText; 
        const length = Math.max(oldText.length, newText.length);
        const promise = new Promise((resolve) => this.resolve = resolve);
        this.queue = [];
        for (let i = 0; i < length; i++) {
            const from = oldText[i] || ''; 
            const to = newText[i] || '';
            const start = Math.floor(Math.random() * 40); 
            const end = start + Math.floor(Math.random() * 40);
            this.queue.push({ from, to, start, end });
        }
        cancelAnimationFrame(this.frameRequest); 
        this.frame = 0; 
        this.update(); 
        return promise;
    }
    update() {
        let output = ''; 
        let complete = 0;
        for (let i = 0, n = this.queue.length; i < n; i++) {
            let { from, to, start, end, char } = this.queue[i];
            if (this.frame >= end) { complete++; output += to; }
            else if (this.frame >= start) {
                if (!char || Math.random() < 0.28) { 
                    char = this.chars[Math.floor(Math.random() * this.chars.length)]; 
                    this.queue[i].char = char; 
                }
                output += `<span class="text-cyan-400">${char}</span>`;
            } else { output += from; }
        }
        this.el.innerHTML = output;
        if (complete === this.queue.length) this.resolve(); 
        else { this.frameRequest = requestAnimationFrame(this.update); this.frame++; }
    }
}

/* SIDEBAR LOGIC */
function toggleSidebar() {
    const sb = document.getElementById('sidebar');
    sb.classList.toggle('sidebar-closed');
    sb.classList.toggle('sidebar-open');
}

/* DATASET */
const data={
    "Caesar Cipher":{ "Type":"Substitution", "Key Space":"25", "Scalability":"Very Low", "Attack":"Frequency Analysis", "Security":"Very Weak", "CPU Usage":"Very Low", "Power":"Very Low" },
    "Modified Caesar":{ "Type":"Substitution", "Key Space":"Variable", "Scalability":"Low", "Attack":"Brute Force", "Security":"Weak", "CPU Usage":"Low", "Power":"Low" },
    "Rail Fence":{ "Type":"Transposition", "Key Space":"Depth Value", "Scalability":"Low", "Attack":"Known Plaintext", "Security":"Weak", "CPU Usage":"Low", "Power":"Low" },
    "Vernam Cipher":{ "Type":"Stream (XOR)", "Key Space":"Infinite (OTP)", "Scalability":"Poor (Key Mgmt)", "Attack":"None (Perfect)", "Security":"Absolute", "CPU Usage":"Low", "Power":"Medium" },
    "Vigenère Cipher":{ "Type":"Polyalphabetic", "Key Space":"Key Length Dependent", "Scalability":"Medium", "Attack":"Kasiski", "Security":"Moderate", "CPU Usage":"Low", "Power":"Low" },
    "Playfair Cipher":{ "Type":"Digraph", "Key Space":"25! Matrix", "Attack":"Known Plaintext", "Security":"Moderate", "CPU Usage":"Low", "Power":"Low" },
    "Hill Cipher":{ "Type":"Block Matrix", "Key Space":"Matrix Size", "Scalability":"Medium", "Attack":"Known Plaintext", "Security":"Moderate", "CPU Usage":"Medium", "Power":"Medium" },
    "DES":{ "Type":"Block Cipher", "Key Space":"56-bit", "Scalability":"Low", "Attack":"Brute Force", "Security":"Weak (Deprecated)", "CPU Usage":"Medium", "Power":"Medium" },
    "AES":{ "Type":"Block Cipher", "Key Space":"256-bit", "Scalability":"High", "Attack":"Quantum-Resistant", "Security":"Military", "CPU Usage":"High", "Power":"Optimized" }
};

/* 3D BACKGROUND */
let scene, camera, renderer, particles;
function init3D() {
    scene = new THREE.Scene();
    camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
    renderer = new THREE.WebGLRenderer({ canvas: document.getElementById('three-canvas'), alpha: true });
    renderer.setSize(window.innerWidth, window.innerHeight);

    const geometry = new THREE.BufferGeometry();
    const vertices = [];
    for (let i = 0; i < 3000; i++) {
        vertices.push(Math.random() * 2000 - 1000, Math.random() * 2000 - 1000, Math.random() * 2000 - 1000);
    }
    geometry.setAttribute('position', new THREE.Float32BufferAttribute(vertices, 3));
    const material = new THREE.PointsMaterial({ color: 0x00d2ff, size: 2, transparent: true, opacity: 0.4 });
    particles = new THREE.Points(geometry, material);
    scene.add(particles);
    camera.position.z = 500;
}

function animate3D() {
    requestAnimationFrame(animate3D);
    particles.rotation.y += 0.0008;
    renderer.render(scene, camera);
}

/* RENDER ENGINE */
const s1=document.getElementById("a1"), s2=document.getElementById("a2");
const card1=document.getElementById("card1"), card2=document.getElementById("card2");

Object.keys(data).forEach(k=>{
    s1.add(new Option(k,k));
    s2.add(new Option(k,k));
});

s1.selectedIndex=0; s2.selectedIndex=8; 
s1.onchange=render; s2.onchange=render;

function render(){
    buildCard(card1,s1.value);
    buildCard(card2,s2.value);
}

function buildCard(card,alg){
    card.innerHTML=`<h2 style="font-family:Orbitron; color:white; text-align:center; margin-bottom:1.5rem; border-bottom:1px solid rgba(0,210,255,0.2); padding-bottom:0.8rem; letter-spacing:2px; font-weight:700;">${alg}</h2>`;
    
    const rows = [];
    Object.entries(data[alg]).forEach(([k,v])=>{
        const r=document.createElement("div");
        r.className="row";
        r.style.opacity = "0";
        r.innerHTML=`<div class="label">${k}</div><div class="value">${v}</div>`;
        card.appendChild(r);
        rows.push(r);
    });

    gsap.fromTo(rows, 
        { opacity: 0, x: -50, scale: 0.8 }, 
        { opacity: 1, x: 0, scale: 1, stagger: 0.1, duration: 0.4, ease: "back.out(1.2)" }
    );
}

/* PARALLAX EFFECT */
document.addEventListener('mousemove', (e) => {
    const xAxis = (window.innerWidth / 2 - e.pageX) / 50;
    const yAxis = (window.innerHeight / 2 - e.pageY) / 50;
    gsap.to(".card", { rotationY: xAxis, rotationX: -yAxis, duration: 1 });
});

window.onload = () => { 
    init3D(); 
    animate3D(); 
    render(); 
    new TextScramble(document.getElementById('scramble-target')).setText('CIPHER COMPARISON');
};
</script>
</body>
</html>