<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Cipher Architecture Timeline | Binary Space Warp</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=JetBrains+Mono:wght@300;500;700&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --bg: #010409;
            --panel: rgba(15, 23, 42, 0.85);
            --accent: #00d2ff;
            --neon-blue: #00e0ff;
            --glass: rgba(6, 11, 25, 0.95);
            --text: #f1f5f9;
            --sidebar-w: 320px;
        }

        html { scroll-behavior: smooth; }

        body {
            margin: 0;
            background-color: var(--bg);
            color: var(--text);
            font-family: 'JetBrains Mono', monospace;
            overflow-x: hidden;
        }

        #three-canvas {
            position: fixed;
            top: 0; left: 0;
            width: 100%; height: 100%;
            z-index: 0;
            pointer-events: none;
        }

        /* --- RAILFENCE HUD & SIDEBAR STYLES --- */
        .glass-hud {
            background: rgba(255, 255, 255, 0.03);
            backdrop-filter: blur(25px);
            border-bottom: 1px solid rgba(0, 229, 255, 0.2);
        }

        #sidebar {
            transition: transform 0.6s cubic-bezier(0.16, 1, 0.3, 1);
            z-index: 2000;
            background: var(--glass);
        }
        .sidebar-closed { transform: translateX(-100%); }
        .sidebar-open { transform: translateX(0); }

        /* --- UPDATED EVOLUTION CONTENT STYLES --- */
        .scroll-wrapper { height: 1200vh; position: relative; z-index: 1; }

        .sticky-container {
            position: sticky;
            top: 0;
            height: 100vh;
            display: flex;
            align-items: center;
            overflow: hidden;
        }

        .horizontal-track {
            display: flex;
            align-items: center;
            padding-left: calc(50vw - 300px); 
            padding-right: 50vw;
            will-change: transform;
            perspective: 2000px;
            position: relative;
        }

        .horizontal-track::before {
            content: "";
            position: absolute;
            top: 50%; left: 0;
            width: 100%; height: 2px;
            background: linear-gradient(90deg, transparent 0%, var(--accent) 5%, var(--accent) 95%, transparent 100%);
            box-shadow: 0 0 20px var(--accent);
            z-index: 1;
            transform: translateY(-50%);
        }

        .card {
            flex: 0 0 550px; /* Increased size from 450px */
            margin: 0 150px;
            background: var(--panel);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(0, 210, 255, 0.2);
            padding: 50px; /* Increased padding */
            border-radius: 24px;
            position: relative;
            z-index: 10;
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.9);
            opacity: 0.1;
            filter: blur(10px);
            transform: scale(0.6) rotateY(30deg) translateZ(-300px);
            transition: all 0.8s cubic-bezier(0.2, 1, 0.3, 1);
        }

        .card.is-visible {
            opacity: 1;
            filter: blur(0);
            transform: scale(1.2) rotateY(0deg) translateZ(0); /* Increased scale on focus */
            border-color: var(--accent);
            box-shadow: 0 0 60px rgba(0, 210, 255, 0.3);
        }

        .year-badge {
            position: absolute;
            top: -20px; right: 30px;
            background: var(--accent);
            color: #000;
            padding: 8px 20px;
            border-radius: 20px;
            font-weight: 800;
            font-size: 0.85rem;
            font-family: 'Orbitron';
        }

        .label { font-size: 0.75rem; text-transform: uppercase; letter-spacing: 4px; color: var(--accent); margin-bottom: 12px; display: block; }
        h2 { font-family: 'Orbitron'; font-size: 2.8rem; margin: 0 0 20px 0; font-weight: 900; }
        .feature-list { list-style: none; padding: 0; margin-bottom: 25px; }
        .feature-list li { margin-bottom: 12px; padding-left: 28px; position: relative; color: #cbd5e1; font-size: 1.05rem; }
        .feature-list li::before { content: "‚ñπ"; position: absolute; left: 0; color: var(--accent); }

        .flaw-tag {
            background: rgba(248, 113, 113, 0.05);
            color: #f87171;
            padding: 15px;
            border-radius: 12px;
            font-size: 0.9rem;
            border: 1px solid rgba(248, 113, 113, 0.2);
        }
    </style>
</head>

<body>
    <canvas id="three-canvas"></canvas>

    <aside id="sidebar" class="fixed top-0 left-0 h-full w-80 glass-hud border-r border-cyan-500/30 sidebar-closed p-0 overflow-y-auto">
        <div class="p-8 flex justify-between items-center border-b border-white/10 bg-black/20">
            <div>
                <span class="font-header text-xs font-black text-cyan-400 tracking-[0.3em] uppercase block" style="font-size: 10px; letter-spacing: 2px;">Archive Access</span>
                <span class="text-[9px] text-gray-500 font-mono">ID: EVOLUTION_ARCHIVE</span>
            </div>
            <button onclick="toggleSidebar()" class="w-10 h-10 flex items-center justify-center border border-white/10 rounded-full hover:bg-cyan-500 hover:text-black transition-all group">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
                </svg>
            </button>
        </div>
        <div class="p-4 space-y-2">

            <!-- Home -->
            <a href="homepage.html" class="group flex flex-col gap-1 p-3 rounded-md border-l-4 border-transparent
              hover:border-cyan-400 hover:bg-cyan-400/10
              transition-all duration-300">

                <div class="flex items-center gap-3">
                    <!-- <span class="text-lg opacity-80 group-hover:opacity-100">üè†</span> -->
                    <h4 class="font-header text-[11px] font-semibold tracking-widest uppercase
                       text-gray-300 group-hover:text-cyan-400">
                        Return Home
                    </h4>
                </div>
            </a>

            <a href="caeser.html" class="group flex flex-col gap-1 p-3 rounded-md border-l-4 border-transparent
              hover:border-cyan-400 hover:bg-cyan-400/10
              transition-all duration-300">

                <div class="flex items-center gap-3">
                    <!-- <span class="text-lg opacity-80 group-hover:opacity-100">üè†</span> -->
                    <h4 class="font-header text-[11px] font-semibold tracking-widest uppercase
                       text-gray-300 group-hover:text-cyan-400">
                        Caeser Cipher
                    </h4>
                </div>
            </a>

            <a href="modified.html" class="group flex flex-col gap-1 p-3 rounded-md border-l-4 border-transparent
              hover:border-cyan-400 hover:bg-cyan-400/10
              transition-all duration-300">

                <div class="flex items-center gap-3">
                    <!-- <span class="text-lg opacity-80 group-hover:opacity-100">üè†</span> -->
                    <h4 class="font-header text-[11px] font-semibold tracking-widest uppercase
                       text-gray-300 group-hover:text-cyan-400">
                        Modified Ceaser Cipher
                    </h4>
                </div>
            </a>

            <!-- Active: Vigen√®re -->
             <a href="Vigenere.html" class="group flex flex-col gap-1 p-3 rounded-md border-l-4 border-transparent
              hover:border-cyan-400 hover:bg-cyan-400/10
              transition-all duration-300">

                <div class="flex items-center gap-3">
                    <!-- <span class="text-lg opacity-80 group-hover:opacity-100">üè†</span> -->
                    <h4 class="font-header text-[11px] font-semibold tracking-widest uppercase
                       text-gray-300 group-hover:text-cyan-400">
                        Vigenere Cipher
                    </h4>
                </div>
            </a>
            

            <a href="Playfair2.html" class="group flex flex-col gap-1 p-3 rounded-md border-l-4 border-transparent
              hover:border-cyan-400 hover:bg-cyan-400/10
              transition-all duration-300">

                <div class="flex items-center gap-3">
                    <!-- <span class="text-lg opacity-80 group-hover:opacity-100">üè†</span> -->
                    <h4 class="font-header text-[11px] font-semibold tracking-widest uppercase
                       text-gray-300 group-hover:text-cyan-400">
                        Playfair Cipher
                    </h4>
                </div>
            </a>

            <a href="vernam.html" class="group flex flex-col gap-1 p-3 rounded-md border-l-4 border-transparent
              hover:border-cyan-400 hover:bg-cyan-400/10
              transition-all duration-300">

                <div class="flex items-center gap-3">
                    <!-- <span class="text-lg opacity-80 group-hover:opacity-100">üè†</span> -->
                    <h4 class="font-header text-[11px] font-semibold tracking-widest uppercase
                       text-gray-300 group-hover:text-cyan-400">
                        Vernam Cipher
                    </h4>
                </div>
            </a>


            <a href="hill.html" class="group flex flex-col gap-1 p-3 rounded-md border-l-4 border-transparent
              hover:border-cyan-400 hover:bg-cyan-400/10
              transition-all duration-300">

                <div class="flex items-center gap-3">
                    <!-- <span class="text-lg opacity-80 group-hover:opacity-100">üè†</span> -->
                    <h4 class="font-header text-[11px] font-semibold tracking-widest uppercase
                       text-gray-300 group-hover:text-cyan-400">
                        Hill Cipher
                    </h4>
                </div>
            </a>

            <a href="vernam.html" class="group flex flex-col gap-1 p-3 rounded-md border-l-4 border-transparent
              hover:border-cyan-400 hover:bg-cyan-400/10
              transition-all duration-300">

                <div class="flex items-center gap-3">
                    <!-- <span class="text-lg opacity-80 group-hover:opacity-100">üè†</span> -->
                    <h4 class="font-header text-[11px] font-semibold tracking-widest uppercase
                       text-gray-300 group-hover:text-cyan-400">
                        Vernam
                    </h4>
                </div>
            </a>

            <a href="aes.html" class="group flex flex-col gap-1 p-3 rounded-md border-l-4 border-transparent
              hover:border-cyan-400 hover:bg-cyan-400/10
              transition-all duration-300">

                <div class="flex items-center gap-3">
                    <!-- <span class="text-lg opacity-80 group-hover:opacity-100">üè†</span> -->
                    <h4 class="font-header text-[11px] font-semibold tracking-widest uppercase
                       text-gray-300 group-hover:text-cyan-400">
                        AES
                    </h4>
                </div>
            </a>
            <a href="des.html" class="group flex flex-col gap-1 p-3 rounded-md border-l-4 border-transparent
              hover:border-cyan-400 hover:bg-cyan-400/10
              transition-all duration-300">

                <div class="flex items-center gap-3">
                    <!-- <span class="text-lg opacity-80 group-hover:opacity-100">üè†</span> -->
                    <h4 class="font-header text-[11px] font-semibold tracking-widest uppercase
                       text-gray-300 group-hover:text-cyan-400">
                        DES
                    </h4>
                </div>
            </a>

        </div>
    </aside>

    <nav class="fixed top-0 w-full z-[100] border-b border-cyan-500/10 px-8 py-4 flex justify-between items-center glass-hud">
        <div class="flex items-center space-x-4">
            <button onclick="toggleSidebar()" class="p-2 hover:bg-cyan-500/10 rounded-full transition-colors group">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-cyan-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
                </svg>
            </button>
            <span class="font-header text-xl tracking-tighter font-black uppercase" style="font-size: 20px; letter-spacing: 1px; font-family: 'Orbitron';">Crypto<span class="text-cyan-400">Evo</span></span>
        </div>
        <div class="hidden md:flex space-x-8 text-[10px] tracking-widest uppercase font-bold text-gray-400">
            <span class="text-cyan-500 animate-pulse">REGISTRY // 2026 // CIPHER_EVOLUTION</span>
        </div>
    </nav>

    <div class="scroll-wrapper">
        <div class="sticky-container">
            <div class="horizontal-track" id="track">
                <section class="card" data-index="0">
                    <div class="year-badge">100 BC</div>
                    <span class="label">Ancient Era</span>
                    <h2>Caesar</h2>
                    <ul class="feature-list">
                        <li>Fixed shift-based substitution.</li>
                        <li>Foundation of military secrecy.</li>
                    </ul>
                    <div class="flaw-tag"><strong>Vulnerability:</strong> Solved by frequency analysis.</div>
                </section>

                <section class="card" data-index="1">
                    <div class="year-badge">1553</div>
                    <span class="label">Renaissance Era</span>
                    <h2>Vigen√®re</h2>
                    <ul class="feature-list">
                        <li>Polyalphabetic substitution keyword.</li>
                        <li>Masks statistical frequency of 'E'.</li>
                    </ul>
                    <div class="flaw-tag"><strong>Vulnerability:</strong> Key patterns create repeats.</div>
                </section>

                <section class="card" data-index="2">
                    <div class="year-badge">1917</div>
                    <span class="label">Perfect Secrecy</span>
                    <h2>Vernam (OTP)</h2>
                    <ul class="feature-list">
                        <li>Mathematically "Perfect" cipher.</li>
                        <li>Random key as long as message.</li>
                    </ul>
                    <div class="flaw-tag"><strong>Issue:</strong> Massive key distribution logistics.</div>
                </section>

                <section class="card" data-index="3" style="border: 2px solid #34d399;">
                    <div class="year-badge" style="background: #34d399;">2001</div>
                    <span class="label">Current Era</span>
                    <h2>AES</h2>
                    <ul class="feature-list">
                        <li>Rijndael block cipher; global standard.</li>
                        <li>Supports massive 256-bit key lengths.</li>
                    </ul>
                    <div class="flaw-tag" style="color: #34d399; border-color: #34d399;"><strong>Status:</strong> SECURE. Unbroken.</div>
                </section>
            </div>
        </div>
    </div>

    <script>
        // UI TOGGLES
        function toggleSidebar() {
            const sb = document.getElementById('sidebar');
            sb.classList.toggle('sidebar-closed');
            sb.classList.toggle('sidebar-open');
        }

        function scrollToCard(index) {
            const wrapper = document.querySelector('.scroll-wrapper');
            const scrollTotal = wrapper.offsetHeight - window.innerHeight;
            const targetScroll = (index / (cards.length - 1)) * scrollTotal;
            
            window.scrollTo({
                top: targetScroll,
                behavior: 'smooth'
            });
            toggleSidebar();
        }

        // THREE.JS BACKGROUND
        let scene, camera, renderer, starGeo, binaryGroup;
        let baseSpeed = 0.5;
        let currentSpeed = baseSpeed;

        function initThree() {
            scene = new THREE.Scene();
            camera = new THREE.PerspectiveCamera(60, window.innerWidth / window.innerHeight, 1, 1000);
            camera.position.z = 1;
            renderer = new THREE.WebGLRenderer({ canvas: document.getElementById('three-canvas'), antialias: true, alpha: true });
            renderer.setSize(window.innerWidth, window.innerHeight);

            starGeo = new THREE.BufferGeometry();
            let starPositions = new Float32Array(4000 * 3);
            for(let i=0; i < 4000; i++) {
                starPositions[i*3] = Math.random() * 600 - 300;
                starPositions[i*3+1] = Math.random() * 600 - 300;
                starPositions[i*3+2] = Math.random() * 600 - 300;
            }
            starGeo.setAttribute('position', new THREE.BufferAttribute(starPositions, 3));
            scene.add(new THREE.Points(starGeo, new THREE.PointsMaterial({ color: 0x00d2ff, size: 0.7, transparent: true, opacity: 0.5 })));

            binaryGroup = new THREE.Group();
            const canvas = document.createElement('canvas');
            const ctx = canvas.getContext('2d');
            canvas.width = 64; canvas.height = 64;
            ctx.fillStyle = '#00d2ff'; ctx.font = 'bold 48px monospace';
            const textures = ['0', '1'].map(char => {
                ctx.clearRect(0,0,64,64); ctx.fillText(char, 15, 50);
                return new THREE.CanvasTexture(canvas.cloneNode(true));
            });
            for(let i=0; i < 200; i++) {
                let sprite = new THREE.Sprite(new THREE.SpriteMaterial({ map: textures[Math.floor(Math.random()*2)], opacity: Math.random() * 0.3, transparent: true }));
                sprite.position.set((Math.random()-0.5)*40, (Math.random()-0.5)*40, (Math.random()-0.5)*20);
                sprite.scale.set(0.2, 0.2, 0.2);
                sprite.userData = { fallSpeed: Math.random() * 0.02 + 0.01 };
                binaryGroup.add(sprite);
            }
            scene.add(binaryGroup);
            animate();
        }

        function animate() {
            let positions = starGeo.attributes.position.array;
            for(let i=0; i < 4000; i++) {
                positions[i*3+2] += currentSpeed;
                if (positions[i*3+2] > 200) positions[i*3+2] = -500;
            }
            starGeo.attributes.position.needsUpdate = true;
            binaryGroup.children.forEach(b => {
                b.position.y -= b.userData.fallSpeed + (currentSpeed * 0.05);
                if (b.position.y < -20) b.position.y = 20;
            });
            renderer.render(scene, camera);
            requestAnimationFrame(animate);
        }
        initThree();

        // SCROLL & FOCUS LOGIC
        const track = document.getElementById('track');
        const cards = document.querySelectorAll('.card');
        const wrapper = document.querySelector('.scroll-wrapper');
        let lastScrollTop = 0;

        const updateTimeline = () => {
            const st = window.pageYOffset;
            const scrollTotal = wrapper.offsetHeight - window.innerHeight;
            const scrollPercentage = st / scrollTotal;
            
            const maxTranslation = track.scrollWidth - window.innerWidth;
            track.style.transform = `translateX(-${scrollPercentage * maxTranslation}px)`;

            let delta = Math.abs(st - lastScrollTop);
            currentSpeed = baseSpeed + (delta * 0.05);
            lastScrollTop = st;
            setTimeout(() => currentSpeed = Math.max(baseSpeed, currentSpeed * 0.9), 50);

            const centerX = window.innerWidth / 2;
            cards.forEach((card, i) => {
                const rect = card.getBoundingClientRect();
                const cardCenter = rect.left + rect.width / 2;
                const navItem = document.getElementById(`nav-${i}`);
                
                if (Math.abs(centerX - cardCenter) < 300) {
                    card.classList.add('is-visible');
                    if(navItem) {
                        document.querySelectorAll('.nav-link').forEach(el => {
                            el.classList.remove('bg-cyan-500/10', 'border-cyan-400');
                            el.classList.add('border-transparent');
                            el.querySelector('h4').className = "font-header text-[11px] font-semibold tracking-widest uppercase text-gray-300 group-hover:text-cyan-400";
                        });
                        navItem.classList.add('bg-cyan-500/10', 'border-cyan-400');
                        navItem.classList.remove('border-transparent');
                        navItem.querySelector('h4').className = "font-header text-[11px] font-bold tracking-widest uppercase text-cyan-400";
                    }
                } else {
                    card.classList.remove('is-visible');
                }
            });
        };

        window.addEventListener('scroll', updateTimeline);
        window.addEventListener('resize', () => {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        });

        window.onload = () => { window.scrollTo(0, 0); updateTimeline(); };
        if (history.scrollRestoration) history.scrollRestoration = 'manual';
    </script>
</body>
</html>